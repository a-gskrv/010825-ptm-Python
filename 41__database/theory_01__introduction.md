## Способы подключения Python к MySQL


### 1. `pymysql`

**Общая характеристика**
100% Python-реализация (без языка `C`) MySQL-клиента, совместимая с Python DB-API 2.0.

**Особенности**

* Написана полностью на Python (без C-расширений)
* Простая установка через `pip`
* Полная совместимость по API с `MySQLdb`
* Поддержка `SSL`, `prepared statements`, `Unicode`
* Работает на CPython и PyPy

**Плюсы**

* Не требует компиляции
* Отлично подходит для кросс-платформенных проектов
* Удобна для быстрого старта и учебных целей

**Минусы**

* Медленнее C-реализаций
* Менее эффективна при высокой нагрузке

**Типичное применение**

* Для обучения
* Небольшие и средние проекты


---

## 2. `mysql-connector-python`

**Общая характеристика**
Официальный MySQL-драйвер от **Oracle**, написан в основном на Python.

**Особенности**

* Поддерживается разработчиками MySQL
* Реализует DB-API 2.0
* Имеет собственный API (не полностью совместим с MySQLdb)
* Умеет работать с кластерами MySQL: 
  * автоматически переключаться при сбоях и эффективно управлять соединениями:
    * Поддержка `replication`:
      * автоматически направляет записи на master, а чтения — на реплики;
    * Поддержка `failover`:
      * если основной сервер становится недоступен, то драйвер автоматически переключается на другой сервер из списка;
    * Поддержка пула соединений (`pooling`):
      * соединения переиспользуются, а не создаются каждый раз заново;
      * что существенно быстрее и экономичнее по ресурсам. 

**Плюсы**

* Официальная поддержка
* Хорошая документация
* Расширенные возможности администрирования
* Поддержка MySQL 8.x из коробки

**Минусы**

* Обычно медленнее `mysqlclient`
* Иногда отстаёт по производительности от альтернатив
* Менее популярна в open-source проектах
* Возможны проблемы с установкой на Windows:
  * Рекомендация: "откатить" на более старую версию пакета, 
  * например:
    ```bash
    pip uninstall mysql-connector-python
    pip install mysql-connector-python==9.3.0
    ```
  * Если не поможет — попробовать "опуститься" ещё "ниже".

**Типичное применение**

* Корпоративные проекты
* Когда важна официальная поддержка Oracle
* Использование специфичных возможностей MySQL

---

### 3. `mysqlclient`

**Общая характеристика**
`mysqlclient` — это современный форк `MySQLdb`, использующий **C-расширение** и клиентскую библиотеку MySQL.

**Особенности**

* Самая быстрая библиотека из трёх
* Полная совместимость с DB-API 2.0
* Требует установленный MySQL (или MariaDB) client
* Использует нативные C-библиотеки

**Плюсы**

* Высокая производительность
* Низкие накладные расходы
* Широко используется в production
* Часто применяется в Django-проектах

**Минусы**

* Сложнее установка (нужны dev-пакеты)
* Не подходит для PyPy
* Зависит от системных библиотек

**Типичное применение**

* Высоконагруженные сервисы
* Production-системы
* Django + MySQL

---

### Сравнительная таблица

| Критерий                | `pymysql`        | `mysql-connector-python` | `mysqlclient` |
| ----------------------- | -------------- | ---------------------- | ----------- |
| Реализация              | Python         | Python (+ C опция)     | C           |
| Скорость                | Низкая–средняя | Средняя                | Высокая |
| Установка               | Простая        | Простая                | Сложная     |
| DB-API 2.0              | ✅              | ✅                      | ✅           |
| Официальная             | ❌              | ✅ (Oracle)             | ❌           |
| Совместимость с MySQLdb | ✅              | ❌                      | ✅           |
| Поддержка PyPy          | ✅              | ❌                      | ❌           |

---

### Итоговые рекомендации

* **Нужна простота и portability** → `PyMySQL`
* **Корпоративный проект, официальный драйвер** → `mysql-connector-python`
* **Максимальная производительность и production** → `mysqlclient`

